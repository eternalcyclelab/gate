<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ACCESS REQUIRED</title>
  <meta name="robots" content="noindex,nofollow" />
  <style>
    :root { color-scheme: dark; }
    body {
      margin: 0; min-height: 100vh; display: grid; place-items: center;
      background: radial-gradient(900px 600px at 50% 30%, #141414 0%, #070707 55%, #000 100%);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      color: #e6e6e6;
      letter-spacing: 0.2px;
    }
    .card {
      width: min(560px, calc(100vw - 32px));
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 16px;
      padding: 22px 20px;
      background: rgba(0,0,0,0.55);
      box-shadow: 0 20px 80px rgba(0,0,0,0.7);
      position: relative;
      overflow: hidden;
    }
    .scanline::before {
      content: "";
      position: absolute; inset: 0;
      background: linear-gradient(to bottom, rgba(255,255,255,0.05), rgba(255,255,255,0));
      opacity: 0.06;
      transform: translateY(-50%);
      animation: scan 7s linear infinite;
      pointer-events: none;
    }
    @keyframes scan {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(200%); }
    }
    h1 { margin: 0 0 6px 0; font-size: 18px; text-transform: uppercase; }
    p { margin: 0 0 16px 0; font-size: 13px; line-height: 1.5; color: rgba(255,255,255,0.72); }
    .row { display: flex; gap: 10px; }
    input {
      flex: 1;
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.14);
      border-radius: 12px;
      padding: 12px 12px;
      color: rgba(255,255,255,0.92);
      outline: none;
      font-size: 14px;
    }
    input:focus { border-color: rgba(255,255,255,0.28); }
    button {
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.16);
      color: rgba(255,255,255,0.9);
      border-radius: 12px;
      padding: 12px 14px;
      cursor: pointer;
      font-size: 14px;
      white-space: nowrap;
    }
    button:hover { background: rgba(255,255,255,0.14); }
    .status { margin-top: 14px; min-height: 18px; font-size: 12px; color: rgba(255,255,255,0.65); }
    .status.err { color: rgba(255,120,120,0.85); }
    .status.ok  { color: rgba(140,255,190,0.85); }
    .hint { margin-top: 12px; font-size: 11px; color: rgba(255,255,255,0.45); }
    .tiny { margin-top: 10px; font-size: 10px; color: rgba(255,255,255,0.28); }
  </style>
</head>

<body>
  <main class="card scanline">
    <h1>ACCESS REQUIRED</h1>
    <p>Dieses Archiv ist nicht öffentlich. Zugang wird überprüft.</p>

    <div class="row">
      <input id="pw" type="password" autocomplete="off" spellcheck="false"
             placeholder="Passwort eingeben…" />
      <button id="go" type="button">VALIDATE</button>
    </div>

    <div id="status" class="status"></div>
    <div class="hint" id="hint">The Eternal Cycle</div>
    <div class="tiny">v0.3 • offline verification</div>
  </main>

<script>
  // Zielseite nach korrektem Passwort:
  const NEXT_PAGE = "./vault.html";

  // Passwort (case-insensitive): "Ouroboros"
  function normalize(s) { return (s || "").trim().toLowerCase(); }
  const PASSWORD = "ouroboros";

  const WRONG_MESSAGES = [
    "Zugriff verweigert."
  ];

  const pwEl = document.getElementById("pw");
  const btn = document.getElementById("go");
  const statusEl = document.getElementById("status");

  btn.addEventListener("click", onSubmit);
  pwEl.addEventListener("keydown", (e) => { if (e.key === "Enter") onSubmit(); });

  function setStatus(msg, kind) {
    statusEl.textContent = msg;
    statusEl.className = "status" + (kind ? " " + kind : "");
  }
  function pick(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

  function onSubmit() {
    const pw = normalize(pwEl.value);

    if (!pw) {
      setStatus("Eingabe erforderlich.", "err");
      return;
    }

    if (pw === PASSWORD) {
      setStatus("Zugriff gewährt. Weiterleitung…", "ok");
      setTimeout(() => { window.location.href = NEXT_PAGE; }, 700);
    } else {
      setStatus(pick(WRONG_MESSAGES), "err");
      pwEl.value = "";
      pwEl.focus();
    }
  }
</script>
</body>
</html>
